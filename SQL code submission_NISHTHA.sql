CREATE DATABASE [Cineplus]

CREATE TABLE EMP (EMP_ID VARCHAR(30) NOT NULL UNIQUE,
EMP_USERNAME VARCHAR (35) NOT NULL,
EMP_PASSWORD VARCHAR(8) NOT NULL,
EMP_NAME VARCHAR(30) NOT NULL,
EMP_DESIGNATION VARCHAR (35) NOT NULL,
PRIMARY KEY (EMP_ID)
);

CREATE TABLE CUST (CUS_ID VARCHAR(30) NOT NULL UNIQUE,
CUS_FNAME VARCHAR (35) NOT NULL,
CUS_LNAME VARCHAR (35) NOT NULL,
CUS_PHNO VARCHAR(20) NOT NULL,
PRIMARY KEY (CUS_ID)
);

CREATE TABLE MOVIE (MOV_ID VARCHAR(30) NOT NULL UNIQUE,
MOV_TITLE VARCHAR (35) NOT NULL,
MOV_DIRECTOR VARCHAR (35) NOT NULL,
MOV_ACTOR VARCHAR (35) NOT NULL,
MOV_ACTRESS VARCHAR (35) NOT NULL,
MOV_YEAR INTEGER NOT NULL,
MOV_LANGUAGE VARCHAR (35) NOT NULL,
MOV_DATE_RELEASE DATE NOT NULL,
MOV_DESC VARCHAR (100),
MOV_DURATION INTEGER NOT NULL,
PRIMARY KEY (MOV_ID)
);


CREATE TABLE AUDITORIUM (AUD_ID VARCHAR(5) NOT NULL UNIQUE,
AUD_NAME VARCHAR(35) NOT NULL,
PRIMARY KEY (AUD_ID),
);




CREATE TABLE SEAT (SEAT_ID VARCHAR(30) NOT NULL UNIQUE,
SEAT_ROW VARCHAR(1) NOT NULL,
SEAT_NUMBER VARCHAR(2) NOT NULL,
AUD_ID VARCHAR(5) NOT NULL,
PRIMARY KEY (SEAT_ID),
FOREIGN KEY (AUD_ID) REFERENCES AUDITORIUM(AUD_ID)
);


CREATE TABLE PAYMENT (PAYM_ID VARCHAR(5) NOT NULL UNIQUE,
EMP_ID VARCHAR(30) NOT NULL,
CUS_ID VARCHAR(30) NOT NULL,
PAYM_AMOUNT INTEGER NOT NULL,
PRIMARY KEY (PAYM_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMP(EMP_ID),
FOREIGN KEY (CUS_ID) REFERENCES CUST(CUS_ID)
);

CREATE TABLE RESERVATION_TYPE (RESERVE_ID VARCHAR(5) NOT NULL UNIQUE,
RES_TYPE VARCHAR(35) NOT NULL,
PRIMARY KEY(RESERVE_ID)
);



CREATE TABLE RESERVATION (RES_ID VARCHAR(5) NOT NULL UNIQUE,
EMP_ID VARCHAR(30) NOT NULL,
RESERVE_ID VARCHAR(5) NOT NULL,
CUS_ID VARCHAR(30) NOT NULL,
PAID VARCHAR(5) NOT NULL,
RESERVED VARCHAR(5) NOT NULL,
PAYM_ID VARCHAR(5) NOT NULL,
ACTIVE VARCHAR(5) NOT NULL,
PRIMARY KEY (RES_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMP(EMP_ID),
FOREIGN KEY (CUS_ID) REFERENCES CUST(CUS_ID),
FOREIGN KEY (PAYM_ID) REFERENCES PAYMENT(PAYM_ID),
FOREIGN KEY (RESERVE_ID) REFERENCES RESERVATION_TYPE(RESERVE_ID) 
);

CREATE TABLE SCREENING (SCR_ID VARCHAR(5) NOT NULL UNIQUE,
MOV_ID VARCHAR(30) NOT NULL,
AUD_ID VARCHAR(5) NOT NULL, 
SCR_DAY DATE NOT NULL,
SCR_TIME TIME NOT NULL,
PRIMARY KEY (SCR_ID),
FOREIGN KEY (MOV_ID) REFERENCES MOVIE(MOV_ID),
FOREIGN KEY (AUD_ID) REFERENCES AUDITORIUM(AUD_ID)
);

CREATE TABLE SEAT_RESERVED (SEAT_RES_ID VARCHAR(5) NOT NULL UNIQUE,
SEAT_ID VARCHAR(30) NOT NULL,
SCR_ID VARCHAR(5) NOT NULL,
RES_ID VARCHAR(5) NOT NULL,
PRIMARY KEY (SEAT_RES_ID),
FOREIGN KEY (SEAT_ID) REFERENCES SEAT(SEAT_ID),
FOREIGN KEY (SCR_ID) REFERENCES SCREENING(SCR_ID),
FOREIGN KEY (RES_ID) REFERENCES RESERVATION(RES_ID)
);





INSERT INTO EMP VALUES ('E001' , 'sequi' , 'bf3faae7' , 'RAV ', 'CASHIER');
INSERT INTO EMP VALUES('E002'	,'alias' ,	'97fe886d' , 'ANTR', 'MANAGER');
INSERT INTO EMP VALUES('E003'	,'voluptatem' ,	'78ef7c06', 'NISH',	'CLERK');
INSERT INTO EMP VALUES('E004'	,'eum' ,	'624e9bd8'	, 'PRABH', 'ANALYST');
INSERT INTO EMP VALUES('E005'	,'dolores', 'f7edee19'	, 'JANANI', 'CASHIER');
INSERT INTO EMP VALUES('E006'	,'blanditiis', '2976b4c1', 'AKSHAT', 'CASHIER');
INSERT INTO EMP VALUES('E007'	,'animi' ,'10fa2fdc' , 'DHEERAJ', 'CASHIER');
INSERT INTO EMP VALUES('E008'	,'quo' ,'c3e5ddd5', 'RICHARD', 'MANAGER');
INSERT INTO EMP VALUES('E009'	,'saepe' ,'3d103857' , 'ZORA', 'ANALYST');
INSERT INTO EMP VALUES('E010'	,'hic' ,'833011af' , 'AKSHAYA', 'CLERK');



INSERT INTO CUST VALUES('C001' , 'quo' ,'doloribu','6042023349');
INSERT INTO CUST VALUES('C002','illo','aut','6045677651');
INSERT INTO CUST VALUES('C003',	'enim','nisi','4506547890');
INSERT INTO CUST VALUES('C004','voluptatum','nesciunt','4356574352');
INSERT INTO CUST VALUES('C005','repellat','et','2453627189');
INSERT INTO CUST VALUES('C006','consequatur','optio','4173087777');
INSERT INTO CUST VALUES('C007','beatae','similique','3286753214');
INSERT INTO CUST VALUES('C008','et','architecto','1768594039');
INSERT INTO CUST VALUES('C009','omnis','aut','1657438746');
INSERT INTO CUST VALUES('C010','harum','doloremque','1464332314');




INSERT INTO MOVIE VALUES('M001','VERTIGO','RIGHTY SOCK','JAMES STEWART','DEBORAH KERR', 1958,'ENGLISH','24-Aug-58',' ',128);
INSERT INTO MOVIE VALUES('M002','THE INNOCENTS','JACK MALVERN','PETER OTOOLE','NICHOLE KIDMAN',1961,'ENGLISH','19-Feb-62',' ',100);
INSERT INTO MOVIE VALUES('M003','LAWRENCE OF ARABIA','FLAGRANT BARONESSA','ROBERT DI NIRO','CLAIRE DANES',1962,'ENGLISH','11-Dec-62',' ',216);
INSERT INTO MOVIE VALUES('M004','THE DEER HUNTER','ALEC SHAW','MURRAY ABRAHAM','KATE WINSLET',1978,'ENGLISH','8-March-79',' ',183);
INSERT INTO MOVIE VALUES('M005','AMADEUS','VICTOR WOELTJEN','HARRISON FORD','SIGOURNEY WEAVER',1984,'ENGLISH','7-Jan-85',' ',160);
INSERT INTO MOVIE VALUES('M006','BLADE RUNNER','SIMON WRIGHT','STEPHEN BALDWIN','ALI ASTIN',1982,'ENGLISH','9-Sep-82',' ',117);
INSERT INTO MOVIE VALUES('M007','EYES WIDE SHUT','NEAL WRUCK','JACK NICHOLSON','SIGOURNEY WEAVER',1999,'ENGLISH','5-Apr-82',' ',159);
INSERT INTO MOVIE VALUES('M008','THE USUAL SUSPECTS',' PAUL MONKS','MARK WAHLBERG','CLAIRE DANES',1995,'ENGLISH','25-Aug-95',' ',106);
INSERT INTO MOVIE VALUES('M009','CHINATOWN','MIKE SALVATI','WOODY ALLEN','NICHOLE KIDMAN',1974,'ENGLISH','9-Aug-74',' ',130);
INSERT INTO MOVIE VALUES('M010','BOOGIE NIGHTS','WESLEY WALKER','TIM ROBBINS','SIGOURNEY WEAVER',1997,'ENGLISH','16-Feb-98',' ',155);


INSERT INTO AUDITORIUM VALUES('A001','A');
INSERT INTO AUDITORIUM VALUES('A002','B');
INSERT INTO AUDITORIUM VALUES('A003','C');
INSERT INTO AUDITORIUM VALUES('A004','D');


INSERT INTO SEAT VALUES('S001','A','1','A001');
INSERT INTO SEAT VALUES('S002','B','2','A002');
INSERT INTO SEAT VALUES('S003','C','3','A002');
INSERT INTO SEAT VALUES('S004','D','4','A003');
INSERT INTO SEAT VALUES('S005','E','5','A003');
INSERT INTO SEAT VALUES('S006','F','6','A004');
INSERT INTO SEAT VALUES('S007','G','7','A003');
INSERT INTO SEAT VALUES('S008','H','8','A004');
INSERT INTO SEAT VALUES('S009','I','8','A003');
INSERT INTO SEAT VALUES('S010','J','10','A001');




INSERT INTO PAYMENT VALUES('P001','E001','C002',120);
INSERT INTO PAYMENT VALUES('P002','E003','C005',21);
INSERT INTO PAYMENT VALUES('P003','E001','C005',38);
INSERT INTO PAYMENT VALUES('P004','E005','C007',100);
INSERT INTO PAYMENT VALUES('P005','E006','C001',45);
INSERT INTO PAYMENT VALUES('P006','E004','C009',67);
INSERT INTO PAYMENT VALUES('P007','E005','C004',87);
INSERT INTO PAYMENT VALUES('P008','E007','C007',43);
INSERT INTO PAYMENT VALUES('P009','E004','C003',67);
INSERT INTO PAYMENT VALUES('P010','E009','C005',44);


INSERT INTO RESERVATION_TYPE VALUES('RES1','normal');
INSERT INTO RESERVATION_TYPE VALUES('RES2','executive');
INSERT INTO RESERVATION_TYPE VALUES('RES3','handicap');
INSERT INTO RESERVATION_TYPE VALUES('RES4','lounge');


INSERT INTO RESERVATION VALUES('R001','E001','RES1','C002','YES','YES','P001','YES');
INSERT INTO RESERVATION VALUES('R002','E003','RES2','C005','NO','NO','P002','YES');
INSERT INTO RESERVATION VALUES('R003','E001','RES2','C005','YES','YES','P003','YES');
INSERT INTO RESERVATION VALUES('R004','E005','RES4','C007','YES','YES','P004','YES');
INSERT INTO RESERVATION VALUES('R005','E006','RES4','C001','NO','NO','P005','YES');
INSERT INTO RESERVATION VALUES('R006','E004','RES1','C009','YES','YES','P006','YES');
INSERT INTO RESERVATION VALUES('R007','E005','RES2','C004','NO','NO','P007','YES');
INSERT INTO RESERVATION VALUES('R008','E007','RES3','C007','NO','NO','P008','YES');
INSERT INTO RESERVATION VALUES('R009','E004','RES1','C003','YES','YES','P009','YES');
INSERT INTO RESERVATION VALUES('R010','E009','RES1','C005','YES','YES','P010','YES');


INSERT INTO SCREENING VALUES('SC001','M003','A001','5-Aug-17','13:00:00');
INSERT INTO SCREENING VALUES('SC002','M007','A002','8-Sep-17','07:54:00');
INSERT INTO SCREENING VALUES('SC003','M001','A003','20-Jan-17','09:50:00');
INSERT INTO SCREENING VALUES('SC004','M009','A004','15-Mar-18','15:20:00');



INSERT INTO SEAT_RESERVED VALUES('SR001','S001','SC001','R010');
INSERT INTO SEAT_RESERVED VALUES('SR002','S002','SC003','R001');
INSERT INTO SEAT_RESERVED VALUES('SR003','S003','SC002','R004');
INSERT INTO SEAT_RESERVED VALUES('SR004','S004','SC001','R010');
INSERT INTO SEAT_RESERVED VALUES('SR005','S005','SC001','R010');
INSERT INTO SEAT_RESERVED VALUES('SR006','S006','SC003','R004');
INSERT INTO SEAT_RESERVED VALUES('SR007','S007','SC002','R003');
INSERT INTO SEAT_RESERVED VALUES('SR008','S008','SC002','R007');
INSERT INTO SEAT_RESERVED VALUES('SR009','S009','SC003','R002');
INSERT INTO SEAT_RESERVED VALUES('SR010','S010','SC003','R009');